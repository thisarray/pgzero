<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test image</title>
  <script src="../jsgame0.js"></script>
  <style type="text/css" media="screen">
body {
  background-color: white;
  color: black;
}
.hidden {
  display: none;
}
  </style>
</head>

<body>
<section id="imageLoader" class="hidden">
  <img class="hidden" src="images/alien.png" alt="alien" data-name="alien">
  <img class="hidden" src="expected-image/alien_blit.png" alt="expected_alien_blit" data-name="expected_alien_blit">
  <img class="hidden" src="expected-image/circle.png" alt="expected_circle" data-name="expected_circle">
  <img class="hidden" src="expected-image/filled_circle.png" alt="expected_filled_circle" data-name="expected_filled_circle">
  <img class="hidden" src="expected-image/filled_polygon.png" alt="expected_filled_polygon" data-name="expected_filled_polygon">
  <img class="hidden" src="expected-image/filled_rect.png" alt="expected_filled_rect" data-name="expected_filled_rect">
  <img class="hidden" src="expected-image/gradient.png" alt="expected_gradient" data-name="expected_gradient">
  <img class="hidden" src="expected-image/line.png" alt="expected_line" data-name="expected_line">
  <img class="hidden" src="expected-image/polygon.png" alt="expected_polygon" data-name="expected_polygon">
  <img class="hidden" src="expected-image/rect.png" alt="expected_rect" data-name="expected_rect">
  <img class="hidden" src="expected-image/wrapped_gradient_text.png" alt="expected_wrapped_gradient_text" data-name="expected_wrapped_gradient_text">
</section>

<h1>Test image</h1>

<canvas id="screen" width="200" height="200">
The game screen appears here if your browser supports the Canvas API.
</canvas>

<form>
<label>Choose an image:
<select id="imageSelect">
  <option selected>None</option>
  <option>alien</option>
  <option>expected_alien_blit</option>
  <option>expected_circle</option>
  <option>expected_filled_circle</option>
  <option>expected_filled_polygon</option>
  <option>expected_filled_rect</option>
  <option>expected_gradient</option>
  <option>expected_line</option>
  <option>expected_polygon</option>
  <option>expected_rect</option>
  <option>expected_wrapped_gradient_text</option>
</select>
</label>
</form>

<script>
const context = document.querySelector('#screen').getContext('2d');
document.querySelector('#imageSelect').addEventListener('change', (event) => {
  context.clearRect(0, 0, 200, 200);
  let name = event.target.value;
  if (name in images) {
    console.log(name);
    context.drawImage(images[name], 0, 0);
  }
  else {
    console.log(`"${ name }" is not in images.`);
  }
});

window.addEventListener('load', (event) => {
  screen.init('#foobar');
  console.dir(images);
});
</script>
</body>

</html>
